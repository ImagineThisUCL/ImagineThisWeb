{"ast":null,"code":"var _jsxFileName = \"/Users/jeremychang/git/ImagineThisWeb/imaginethisweb/src/views/OauthCallBackPage.js\";\nimport React, { Component, Fragment } from 'react';\nimport Navigation from \"../components/Navigation\";\nimport \"../css/authenticatehomepage.css\";\nimport { Tab, Tabs } from 'react-bootstrap';\nimport Cookies from \"universal-cookie\";\nimport $ from 'jquery';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from 'react-loader-spinner';\nimport { DOMAIN, BACKEND_ADDRESS } from '../consts';\nexport class OauthCallBackPage extends Component {\n  constructor(props) {\n    super(props);\n    let currentURL = window.location.search;\n    let params = new URLSearchParams(currentURL);\n    let code = params.get('code');\n\n    if (code === null) {\n      window.location.href = DOMAIN;\n    }\n\n    this.state = {\n      code: code,\n      projectID: '',\n      accessToken: undefined,\n      projectIDError: false,\n      loaderVisible: false,\n      errorMessageVisible: false\n    };\n    this.handleChangeProjectID = this.handleChangeProjectID.bind(this);\n    this.getFigmaProject = this.getFigmaProject.bind(this);\n  }\n\n  componentDidMount() {\n    let accessToken = undefined;\n\n    if (this.state.code !== undefined) {\n      $.ajax({\n        type: \"POST\",\n        url: 'https://www.figma.com/api/oauth/token',\n        dataType: \"json\",\n        async: false,\n        data: {\n          'client_id': 'HbTuw2lrfAC84htJy0Rtf1',\n          'client_secret': 'ARJJi2cIa7pQLUhN6bJ2d93fWFALfe',\n          'redirect_uri': DOMAIN + '/auth',\n          'code': this.state.code,\n          'grant_type': 'authorization_code'\n        },\n        success: function (data) {\n          console.log(data);\n          accessToken = data.access_token;\n        },\n        error: function (xhr, status, err) {\n          console.log('error' + err);\n        }\n      });\n    }\n\n    if (accessToken !== undefined) {\n      this.setState({\n        accessToken: accessToken\n      });\n    }\n  }\n\n  handleChangeProjectID(event) {\n    this.setState({\n      projectID: event.target.value\n    });\n  }\n\n  validateForm() {\n    let error = false;\n\n    if (!(this.state.projectID.length > 0)) {\n      this.setState({\n        projectIDError: true\n      });\n      error = true;\n    } else {\n      this.setState({\n        projectIDError: false\n      });\n    }\n\n    return error;\n  }\n\n  getFigmaProject() {\n    if (!this.validateForm()) {\n      this.setState({\n        loaderVisible: true,\n        errorMessageVisible: false\n      });\n      $.ajax({\n        type: \"GET\",\n        url: BACKEND_ADDRESS + '/authToken',\n        dataType: \"json\",\n        async: true,\n        data: {\n          'accessToken': this.state.accessToken,\n          'projectID': this.state.projectID,\n          'authType': 'oauth2Token'\n        },\n        success: function (data) {\n          this.setState({\n            loaderVisible: false,\n            errorMessageVisible: false\n          });\n          console.log(data);\n          const cookies = new Cookies();\n          cookies.set('accessToken', this.state.accessToken, {\n            path: '/'\n          });\n          cookies.set('projectID', this.state.projectID, {\n            path: '/'\n          });\n          cookies.set('authType', 'oauth2Token', {\n            path: '/'\n          });\n          this.props.history.push({\n            pathname: '/wireframes',\n            state: {\n              projectName: data.projectName,\n              wireframeList: data.wireframeList\n            }\n          });\n        }.bind(this),\n        error: function (xhr, status, err) {\n          console.log('error' + err);\n          this.setState({\n            loaderVisible: false,\n            errorMessageVisible: true,\n            projectIDError: true\n          });\n        }.bind(this)\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Navigation, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-lg-8 offset-lg-2 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 29\n      }\n    }, \"You have successfully authenticated!\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-lg-8 offset-lg-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"auth-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Tabs, {\n      defaultActiveKey: \"auth-token\",\n      id: \"uncontrolled-tab-example\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Tab, {\n      eventKey: \"auth-token\",\n      title: \"Access Project with ID\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 41\n      }\n    }, \"Please enter your Figma project ID\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 41\n      }\n    }, \"Project ID is the string between [file\\\\] and [your project name] in your Figma project URL\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: 'form-control mt-4 ' + (this.state.projectIDError ? 'is-invalid' : ''),\n      placeholder: \"Enter your Figma project ID\",\n      onChange: this.handleChangeProjectID,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary mt-3\",\n      onClick: e => this.getFigmaProject(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 41\n      }\n    }, \"Submit\"), this.state.errorMessageVisible && /*#__PURE__*/React.createElement(\"p\", {\n      className: \"mt-3 error_message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 45\n      }\n    }, \"*The project ID is not correct, please try again\"), this.state.loaderVisible && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Loader, {\n      type: \"Oval\",\n      color: \"#005EB8\",\n      width: 50,\n      height: 50,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 49\n      }\n    })))))))));\n  }\n\n}\nexport default OauthCallBackPage;","map":{"version":3,"sources":["/Users/jeremychang/git/ImagineThisWeb/imaginethisweb/src/views/OauthCallBackPage.js"],"names":["React","Component","Fragment","Navigation","Tab","Tabs","Cookies","$","Loader","DOMAIN","BACKEND_ADDRESS","OauthCallBackPage","constructor","props","currentURL","window","location","search","params","URLSearchParams","code","get","href","state","projectID","accessToken","undefined","projectIDError","loaderVisible","errorMessageVisible","handleChangeProjectID","bind","getFigmaProject","componentDidMount","ajax","type","url","dataType","async","data","success","console","log","access_token","error","xhr","status","err","setState","event","target","value","validateForm","length","cookies","set","path","history","push","pathname","projectName","wireframeList","render","e"],"mappings":"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","sourcesContent":["import React, {Component, Fragment,} from 'react'\nimport Navigation from \"../components/Navigation\"\nimport \"../css/authenticatehomepage.css\"\nimport {Tab, Tabs} from 'react-bootstrap'\nimport Cookies from \"universal-cookie\"\nimport $ from 'jquery'\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\"\nimport Loader from 'react-loader-spinner'\nimport {DOMAIN, BACKEND_ADDRESS} from '../consts'\n\nexport class OauthCallBackPage extends Component {\n    constructor(props) {\n        super(props)\n        let currentURL = window.location.search\n        let params = new URLSearchParams(currentURL)\n        let code = params.get('code')\n        if (code === null) {\n            window.location.href = DOMAIN\n        }\n\n        this.state = {\n            code: code,\n            projectID: '',\n            accessToken: undefined,\n            projectIDError: false,\n            loaderVisible: false,\n            errorMessageVisible: false,\n        }\n        \n        this.handleChangeProjectID = this.handleChangeProjectID.bind(this)\n        this.getFigmaProject = this.getFigmaProject.bind(this)\n    }\n\n    componentDidMount() {\n        let accessToken = undefined\n        if (this.state.code !== undefined) {\n            $.ajax({\n                type: \"POST\",\n                url: 'https://www.figma.com/api/oauth/token',\n                dataType: \"json\",\n                async: false,\n                data: {\n                    'client_id': 'HbTuw2lrfAC84htJy0Rtf1',\n                    'client_secret': 'ARJJi2cIa7pQLUhN6bJ2d93fWFALfe',\n                    'redirect_uri': DOMAIN+'/auth',\n                    'code':this.state.code,\n                    'grant_type':'authorization_code'\n                },\n                success: function (data) {\n                    console.log(data)\n                    accessToken = data.access_token\n                },\n                error: function (xhr, status, err) {\n                    console.log('error' + err)\n                }\n            })\n        }\n        if(accessToken !== undefined){\n            this.setState({accessToken: accessToken})\n        }\n    }\n\n    handleChangeProjectID(event) {\n        this.setState({projectID: event.target.value})\n    }\n\n    validateForm() {\n        let error = false\n        if (!(this.state.projectID.length > 0)) {\n            this.setState({projectIDError: true})\n            error = true\n        } else {\n            this.setState({projectIDError: false})\n        }\n        return error\n    }\n\n    getFigmaProject(){\n        if(!this.validateForm()){\n            this.setState({ \n                loaderVisible: true,\n                errorMessageVisible: false,\n            })\n            $.ajax({\n                type: \"GET\",\n                url: BACKEND_ADDRESS+'/authToken',\n                dataType: \"json\",\n                async: true,\n                data:{\n                    'accessToken': this.state.accessToken,\n                    'projectID': this.state.projectID,\n                    'authType': 'oauth2Token'\n                },\n                success: function (data){\n                    this.setState({ \n                        loaderVisible: false,\n                        errorMessageVisible: false,\n                    })\n                    console.log(data)\n                    const cookies = new Cookies()\n                    cookies.set('accessToken', this.state.accessToken, {path: '/'})\n                    cookies.set('projectID', this.state.projectID, {path: '/'})\n                    cookies.set('authType', 'oauth2Token', {path: '/'})\n                    this.props.history.push({\n                        pathname: '/wireframes',\n                        state: {\n                            projectName: data.projectName,\n                            wireframeList: data.wireframeList,\n                        }\n                    })\n                }.bind(this),\n                error: function (xhr, status, err) {\n                    console.log('error' + err)\n                    this.setState({ \n                        loaderVisible: false,\n                        errorMessageVisible: true,\n                        projectIDError: true,\n                    })\n                }.bind(this)\n            })\n        }\n    }\n\n    render() {\n        return (\n            <Fragment>\n                <Navigation/>\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col-12 col-lg-8 offset-lg-2 text-center\">\n                            <h3 className=\"mt-5\">You have successfully authenticated!</h3>\n                        </div>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-12 col-lg-8 offset-lg-2\">\n                            <div className=\"auth-form\">\n                                <Tabs defaultActiveKey=\"auth-token\" id=\"uncontrolled-tab-example\">\n                                    <Tab eventKey=\"auth-token\" title=\"Access Project with ID\">\n                                        <h5>Please enter your Figma project ID</h5>\n                                        <p className=\"mt-2\">Project ID is the string between [file\\] and [your project name] in your Figma project URL</p>\n                                        <input\n                                            className={'form-control mt-4 ' + (this.state.projectIDError ? 'is-invalid' : '')}\n                                            placeholder=\"Enter your Figma project ID\" onChange={this.handleChangeProjectID}/>\n                                        <button className='btn btn-primary mt-3'\n                                                onClick={(e) => this.getFigmaProject()}>Submit\n                                        </button>\n                                        {this.state.errorMessageVisible &&\n                                            <p className=\"mt-3 error_message\">*The project ID is not correct, please try again</p>\n                                        }\n                                        {this.state.loaderVisible &&\n                                            <div className=\"d-flex justify-content-center\">\n                                                <Loader\n                                                    type=\"Oval\"\n                                                    color=\"#005EB8\"\n                                                    width={50}\n                                                    height={50}/>\n                                            </div>\n                                        }\n                                    </Tab>\n                                </Tabs>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </Fragment>\n        )\n    }\n}\n\nexport default OauthCallBackPage"]},"metadata":{},"sourceType":"module"}